<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Social Dashboard • AMU</title>
  <link rel="stylesheet" href="feed.css" />
</head>
<body>
<div id="app" class="container">
  <header class="topbar" role="banner">
    <button id="hamburger" class="hamburger" aria-label="Open menu" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>

    <div class="brand">
      <div class="logo">Social</div>
    </div>

    <div class="center-search">
      <div class="search" role="search" aria-label="Global search">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input id="global-search" type="text" placeholder="Search posts, authors, categories..." aria-label="Search posts" />
      </div>
    </div>

    <div class="top-right">
      <button id="theme-toggle" class="btn small" aria-pressed="false">Light</button>
      <div class="user" title="Your profile" role="button" tabindex="0">
        <img src="https://i.pravatar.cc/36?img=7" alt="Your avatar" />
        <span class="username">Marjohn</span>
      </div>
      <button id="logoutBtn" class="btn small">Logout</button>
    </div>
  </header>

  <div id="overlay" class="overlay" tabindex="-1" aria-hidden="true"></div>

  <main class="grid" role="main">
    <aside class="left sidebar" id="sidebar" role="navigation" aria-label="Primary">
      <nav class="navcard">
        <ul id="nav-list">
          <li class="active" data-tab="feed" role="tab" tabindex="0">Feed</li>
          <li data-tab="news" role="tab" tabindex="-1">News</li>
          <li data-tab="profile" role="tab" tabindex="-1">Profile</li>
          <li data-tab="write" role="tab" tabindex="-1">Write a Story</li>
          <li data-tab="mystories" role="tab" tabindex="-1">My Stories</li>
          <li data-tab="categories" role="tab" tabindex="-1">Categories</li>
          <li data-tab="trending" role="tab" tabindex="-1">Trending</li>
          <li data-tab="anonymous" role="tab" tabindex="-1">Anonymous Room</li>
        </ul>
      </nav>

      <div class="card friends" aria-label="Friends list">
        <h4>Friends</h4>
        <div id="friends-list" aria-live="polite"></div>
      </div>

      <div class="card notifications" aria-label="Notifications">
        <div class="card-head">
          <h4>Notifications</h4>
          <button id="clear-notifs" class="linkbtn">Clear</button>
        </div>
        <div id="notif-list"></div>
      </div>
    </aside>

    <section class="main" id="maincontent" aria-label="Main content">
      <div id="tab-feed" class="card create-post" role="region" aria-label="Create post">
        <form id="post-form" style="position:relative;">
          <div style="position:relative;">
            <button type="button" id="add-image-btn" class="add-img" aria-label="Add image">＋</button>
            <textarea id="post-text" placeholder="What's on your mind?" rows="3" aria-label="Post text"></textarea>
          </div>

          <input id="post-image" type="file" accept="image/*" style="display:none;" />

          <div class="post-form-row">
            <label class="cat-label">
              <span class="muted">Category</span>
              <select id="post-category" aria-label="Post category"></select>
            </label>
            <button type="button" id="new-category-btn" class="btn small">New Category</button>
          </div>

          <img id="preview" class="preview" alt="preview" />

          <div class="form-foot">
            <div class="help-muted">Tip: Press "n" to focus new post, "/" to focus search</div>
            <button type="submit" class="btn primary">Post</button>
          </div>
        </form>
      </div>

      <div id="feed" class="feed-list" aria-live="polite"></div>

      <div id="tab-news" class="card tab-panel hidden"><h4>Latest News</h4><div id="news-content" class="muted">Loading news…</div></div>
      <div id="tab-profile" class="card tab-panel hidden"><h4>Your Profile</h4><div id="profile-content"></div></div>
      <div id="tab-write" class="card tab-panel hidden"><h4>Write a Story</h4><div id="write-content" class="muted"></div></div>
      <div id="tab-mystories" class="card tab-panel hidden"><h4>My Stories</h4><div id="mystories-content" class="muted"></div></div>
      <div id="tab-categories" class="card tab-panel hidden"><h4>Categories</h4><div id="categories-content"></div></div>
      <div id="tab-trending" class="card tab-panel hidden"><h4>Trending</h4><div id="trending-content" class="muted"></div></div>
      <div id="tab-anonymous" class="card tab-panel hidden"><h4>Anonymous Room</h4><div id="anonymous-content" class="muted"></div></div>
    </section>

    <aside class="right" role="complementary" aria-label="Right sidebar">
      <div class="card communities">
        <h4>Communities</h4>
        <div id="communities-list"></div>
      </div>
    </aside>

    <footer class="footer">Demo Social Dashboard • Responsive HTML/CSS/JS</footer>
  </main>
</div>

<!-- Modal root (used by JS for comments/edit/lightbox) -->
<div id="modal-root" aria-hidden="true"></div>

<!-- Toast container -->
<div id="toast-container" aria-live="polite" aria-atomic="true"></div>

<script src="feed.js"></script>
<script>
  // local testing note: to bypass redirect during development, set localStorage.loggedIn = 'true' in console
  const logoutBtn = document.getElementById('logoutBtn');
  if (logoutBtn) {
    logoutBtn.addEventListener('click', () => {
      localStorage.removeItem('loggedIn');
      window.location.href = 'log in.html';
    });
  }
</script>
</body>
</html>